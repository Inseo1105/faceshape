<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link href="https://fonts.googleapis.com/css?family=Jua&display=swap" rel="stylesheet" />
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
            crossorigin="faceshap"
        />
        <!-- 폰트 -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Nanum+Gothic&family=Jua&family=Nanum+Pen+Script&family=Poor+Story&display=swap"
            rel="stylesheet"
        />

        <link rel="stylesheet" href="style.css" />
        <title>얼굴형 테스트/추천</title>
    </head>

    <body>
        <nav class="p-3 container navbar navbar-expand-lg navbar-light">
            <a class="navbar-brand" href="https://face-orzum.run.goorm.io/face/index.html"
                >얼굴형 테스트/추천</a
            >
        </nav>

        <section class="section">
            <h1 class="title">얼굴형 테스트</h1>
            <h2 class="subtitle">사진으로 얼굴형 찾고 선글라스/안경 추천받기</h2>
        </section>

        <!-- 성별 -->
        <h3 class="gender-text pb-2 d-flex justify-content-center">성별을 선택하세요.</h3>
        <section class="d-flex justify-content-center">
            <p class="gender-yn d-flex align-items-center pr-3">여자</p>
            <div>
                <input type="checkbox" id="gender" />
                <label class="genderyn" for="gender">
                    <span class="knob"></span>
                </label>
            </div>
            <p class="gender-yn d-flex align-items-center pl-3">남자</p>
        </section>

        <!-- 이미지 등록 -->
        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <div class="mt-3 container file-upload">
            <div class="image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                    <img src="img/upload2.png" class="mt-5 pt-5 upload" />
                    <h3 class="mb-5 pb-5 pt-4 upload-text">
                        얼굴 사진을 등록해주세요~
                    </h3>
                </div>
            </div>
			

			
			<!-- 마우스 클릭 -->
                <div class="Move">
                    <div id="sun1" class="hide"><img id = "imgs1" src="imgS/roundS.png" class="testsize" /></div>
                    <div id="sun2" class="hide"><img id = "imgs2" src="imgS/boeingS.png" class="testsize" /></div>
                    <div id="sun3" class="hide"><img id = "imgs3" src="imgS/squareS.png" class="testsize" /></div>
                    <div id="sun4" class="hide"><img id = "imgs4" class="addtest" src="#" alt=" 이미지를 추가하세요."/></div>

                    <div id="gls1" class="hide"><img id = "imgg1" src="imgG/roundG.png" class="testsize" /></div>
                    <div id="gls2" class="hide"><img id = "imgg2" src="imgG/boeingG.png" class="testsize" /></div>
                    <div id="gls3" class="hide"><img id = "imgg3" src="imgG/squareG.png" class="testsize" /></div>
                    <div id="gls4" class="hide"><img id = "imgg4" class="addtest" src="#" alt=" 이미지를 추가하세요."/></div>
                </div>
			
			
			
            <div class="file-upload-content">
                <img class="file-upload-image" id="face-image" src="#" alt="your image" />
                <div id="loading" class="faced bounce">
                    <div class="spinner-border" role="status">
						<span class="sr-only">Loading...</span>
					</div>
                    <p class="text-center">얼굴형 분석중...</p>
                </div>
				
				<!-- 얼굴형 / 설명 -->
                <p class="result-message"></p>		
				
				<!-- 퍼센트 이미지-->
				<input id="menu0" type="checkbox" name="menu12" onclick="checkonly(this); clears(); clearg();" checked/>
				<nav id="main_nav0" class="pt-3 imgp">	
					<p class="result-message-explain"></p>
	
                	<div id="label-container" class="d-flex flex-column justify-content-around"></div> <!-- 퍼센트 -->
				</nav>
				
				<!-- 선글라스 이미지 버튼들 -->
                <input id="menu" type="checkbox" name="menu12" onclick="checkonly(this); clearg();"/>
                <nav id="main_nav" class="imgtest">
					
					<div class="labels-m">
					<p class="result-message-sunglass"></p>
					</div>
					
                    <div class="pt-3 labels">
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="sunglass1"
                                onclick="shows1();"
                            />
                            <div class="radio_btn">
                                <img src="imgS/roundS.png" />
                                <p>라운드</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="sunglass2"
                                onclick="shows2();"
                            />
                            <div class="radio_btn">
                                <img src="imgS/boeingS.png" />
                                <p>보잉</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="sunglass3"
                                onclick="shows3();"
                            />
                            <div class="radio_btn">
                                <img src="imgS/squareS.png" />
                                <p>스퀘어</p>
                            </div></label
                        >
                    </div>
                    <div class="labels">
                        <label class="labelradio">
                            <input
                                class="file-upload-input2"
                                type="file"
                                onchange="readURL2(this);"
                                accept="image/*"
                            />
                            <div class="radio_btn">
                                <img src="img/add2.png" class="addimg" />
                                <p>추가하기</p>
                            </div></label
                        >
						<label class="labelradio">
                            <input
                               type="radio"
                                name="img_test"
                                value="addsun"
                                onclick="shows4();"
                            />
                            <div class="radio_btn">
                                <img src="img/new.png"  class="addimg" />
                                <p>추가한 선글라스</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="clears"
                                onclick="clears();"
                            />
                            <div class="radio_btn">
                                <img src="img/clear.png" />
                                <p>삭제</p>
                            </div></label
                        >
                    </div>	
					
						<!-- 슬라이더 바 -->
					<div class ="sliderbox">			
							<input type="range" min="1" max="100" value="50" class="slider" id="sRange">				
						<div id="values" class="value">50</div> <p class="valueq">%</p>
						<div class="blank"></div>
							<div id= "downs" class="udbtn" type="button"> - </div> 
						<div id="rotates" class="rotate"> 0 </div> <p class="do"> º </p> 
						<div id ="ups" class="udbtn" type="button"> + </div>
				    </div>

                </nav>
				
				<!-- 안경 이미지 버튼들 -->          
                <input id="menu2" type="checkbox" name="menu12" onclick="checkonly(this); clears();" />
                <nav id="main_nav2" class="imgtest">
					<div class="labels-m">
					<p class="result-message-glass"></p>
					</div>
					
                    <div class="pt-3 labels">
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="glass1"
                                onclick="showg1();"
                            />
                            <div class="radio_btn">
                                <img src="imgG/roundG.png" />
                                <p>라운드</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="glass2"
                                onclick="showg2();"
                            />
                            <div class="radio_btn">
                                <img src="imgG/boeingG.png" />
                                <p>보잉</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="glass3"
                                onclick="showg3();"
                            />
                            <div class="radio_btn">
                                <img src="imgG/squareG.png" />
                                <p>사각 스퀘어</p>
                            </div></label
                        >
                    </div>
                    <div class="labels">
                        <label class="labelradio">
                            <input
                                class="file-upload-input2"
                                type="file"
                                onchange="readURL2(this);"
                                accept="image/*"
                            />
                            <div class="radio_btn">
                                <img src="img/add2.png" class="addimg" />
                                <p>추가하기</p>
                            </div></label
                        >
						<label class="labelradio">
                            <input
                               type="radio"
                                name="img_test"
                                value="addglass"
                                onclick="showg4();"
                            />
                            <div class="radio_btn">
                                <img src="img/new.png"  class="addimg" />
                                <p>추가한 안경</p>
                            </div></label
                        >
                        <label class="labelradio">
                            <input
                                type="radio"
                                name="img_test"
                                value="clearg"
                                onclick="clearg();"
                            />
                            <div class="radio_btn">
                                <img src="img/clear.png" />
                                <p>삭제</p>
                            </div></label
                        >
                    </div>
					
						<!-- 슬라이더 바 -->		

						<div class ="sliderbox">			
							<input type="range" min="1" max="100" value="50" class="slider" id="gRange">				
						<div id="valueg" class="value">50</div> <p class="valueq">%</p>
						  <div class="blank"></div>
							<div id= "downg" class="udbtn" type="button"> - </div> <div id="rotateg" class="rotate"> 0 </div> <p class="do"> º </p> <div id ="upg" class="udbtn" type="button"> + </div>
				    </div>

	
                </nav>
				
			
			
				
						
				<!-- 퍼센트/선글라스/안경 버튼 -->
				<label class="btn0"for="menu0">얼굴형%</label>		
                <label class="btn1" for="menu">선글라스</label>				
				<label class="btn2" for="menu2">안경</label>

                <!-- 다른사진 재시도 -->
                <div class="image-title-wrap">
                    <button
                        type="button p-2"
                        class="try-again-btn"
                        onclick="window.location.reload(); clears(); clearg();"
                    >
                        <span class="try-again-text">다른 사진으로 재시도</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 맨아래 -->
        <footer class="footer pt-5 container d-flex justify-content-center">
            <div><p>2022 ksnu CIE졸업작품_김인서</p></div>
        </footer>

        <!--JavaScript-->

        <script>
                      <!-- 이미지 출력부분 -->
                               function readURL(input) {
                                   if (input.files && input.files[0]) {
                                       var reader = new FileReader();
                                       reader.onload = function (e) {
                                           $('.image-upload-wrap').hide();
                                           $('#loading').show();
                                           $('.file-upload-image').attr('src', e.target.result);
                                           $('.file-upload-content').show();
                                           $('.image-title').html(input.files[0].name);
                                       };
                                       reader.readAsDataURL(input.files[0]);
                                       init().then(function () {
                                           predict();
                                           $('#loading').hide();
                                       });
                                   } else {
                                       removeUpload();
                                   }
                               }
                      <!-- 다른 사진으로 재시도 -->
                               function removeUpload() {
                                   $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                                   $('.file-upload-content').hide();
                                   $('.image-upload-wrap').show();
                               }
                               $('.image-upload-wrap').bind('dragover', function () {
                                   $('.image-upload-wrap').addClass('image-dropping');
                               });
                               $('.image-upload-wrap').bind('dragleave', function () {
                                   $('.image-upload-wrap').removeClass('image-dropping');
                               });
			<!-- 추가 이미지 -->
			function readURL2(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();
					reader.onload = function(e) {					
						$('.addtest').attr('src', e.target.result);
					};
					reader.readAsDataURL(input.files[0]);
				} else {
					removeUpload();
				}
			}

                      <!-- 선글라스 이미지 -->
                      function shows1(){
                      	document.getElementById('sun1').style.display='block';
                      	document.getElementById('sun2').style.display='none';
                      	document.getElementById('sun3').style.display='none';
                      	document.getElementById('sun4').style.display='none';
                      }
                      function shows2(){
                      	document.getElementById('sun2').style.display='block';
                      	document.getElementById('sun1').style.display='none';;
                      	document.getElementById('sun3').style.display='none';
                      	document.getElementById('sun4').style.display='none';
                      }
                      function shows3(){
                      	document.getElementById('sun3').style.display='block';
                      	document.getElementById('sun1').style.display='none';
                      	document.getElementById('sun4').style.display='none';
                      }
                      function shows4(){
                      	document.getElementById('sun4').style.display='block';
                      	document.getElementById('sun1').style.display='none';
                      	document.getElementById('sun2').style.display='none';
                      	document.getElementById('sun3').style.display='none';
                      }
                      function clears(){
                      	document.getElementById('sun1').style.display='none';
                      	document.getElementById('sun2').style.display='none';
                      	document.getElementById('sun3').style.display='none';
                      	document.getElementById('sun4').style.display='none';
                      }
                      <!-- 안경 이미지 -->
                      function showg1(){
                      	document.getElementById('gls1').style.display='block';
                      	document.getElementById('gls2').style.display='none';
                      	document.getElementById('gls3').style.display='none';
                      	document.getElementById('gls4').style.display='none';
                      }
                      function showg2(){
                      	document.getElementById('gls2').style.display='block';
                      	document.getElementById('gls1').style.display='none';
                      	document.getElementById('gls3').style.display='none';
                      	document.getElementById('gls4').style.display='none';
                      }
                      function showg3(){
                      	document.getElementById('gls3').style.display='block';
                      	document.getElementById('gls1').style.display='none';
                      	document.getElementById('gls2').style.display='none';
                      	document.getElementById('gls4').style.display='none';
                      }
                      function showg4(){
                      	document.getElementById('gls4').style.display='block';
                      	document.getElementById('gls1').style.display='none';
                      	document.getElementById('gls2').style.display='none';
                      	document.getElementById('gls3').style.display='none';
                      }
                      function clearg(){
                      	document.getElementById('gls1').style.display='none';
                      	document.getElementById('gls2').style.display='none';
                      	document.getElementById('gls3').style.display='none';
                      	document.getElementById('gls4').style.display='none';
                      }
			
			
			
			
			<!-- 이미지 움직이기 마우스 드래그앤드롭 -->
			let imgs = document.getElementsByClassName("Move");
			for(var i in imgs){
				dragElement(imgs[i]);
			}
			function dragElement(elmnt) {
			  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
				elmnt.onmousedown = dragMouseDown;
			  function dragMouseDown(e) {
				e = e || window.event;
				e.preventDefault();				
				pos3 = e.clientX;
				pos4 = e.clientY;
				document.onmouseup = closeDragElement;			
				document.onmousemove = elementDrag;
			  }
			  function elementDrag(e) {
				e = e || window.event;
				e.preventDefault();
				pos1 = pos3 - e.clientX;
				pos2 = pos4 - e.clientY;
				pos3 = e.clientX;
				pos4 = e.clientY;
				elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
				elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
			  }			
			  function closeDragElement(){
				  document.onmouseup = null;
				  document.onmousemove = null;
			  }
			}

			
	<!-- 버튼 단일 선택 -->	
    function checkonly(element) {
      const checkboxes 
          = document.getElementsByName("menu12");
      checkboxes.forEach((cb) => {
        cb.checked = false;
      })
      element.checked = true;
    }
		
			
	<!-- 선글라스 슬라이더 -->			
	var slider = document.getElementById("sRange");
			var output = document.getElementById("values");
			output.innerHTML = slider.value;

			slider.oninput = function() {
				output.innerHTML = this.value;			
			}
			
			
						
	<!-- 선글라스 슬라이더 값 이미지 크기 변경 -->	
$(function(){
	$(document).on('click','#sRange',function(event){
				
		$("#imgs1").width(100*(slider.value/50));
		$("#imgs1").height(100*(slider.value/50));		
		$("#imgs2").width(100*(slider.value/50));
		$("#imgs2").height(100*(slider.value/50));
		$("#imgs3").width(100*(slider.value/50));
		$("#imgs3").height(100*(slider.value/50));
		$("#imgs4").width(100*(slider.value/50));
		$("#imgs4").height(100*(slider.value/50));
	});
});
		
		<!-- 선글라스 회전 오른쪽 + -->	
	var degrees=0;	
	var rotates = document.getElementById("rotates");
			
	$(function(){
	$(document).on('click','#ups',function(event){
		degrees=degrees+1;
		
		rotates.innerHTML = degrees;
		document.getElementById('imgs1').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs2').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs3').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs4').style.transform='rotate('+degrees+'deg)';				
		});	
	});		

	<!-- 선글라스 회전 왼쪽 - -->				
	$(function(){
	$(document).on('click','#downs',function(event){
		degrees=degrees-1;
		
		rotates.innerHTML = degrees;
		document.getElementById('imgs1').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs2').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs3').style.transform='rotate('+degrees+'deg)';
		document.getElementById('imgs4').style.transform='rotate('+degrees+'deg)';				
		});	
	});		

			
				
				
	<!-- 안경 슬라이더 -->			
	var sliderg = document.getElementById("gRange");
			var outputg = document.getElementById("valueg");
			outputg.innerHTML = sliderg.value;

			sliderg.oninput = function() {
				outputg.innerHTML = this.value;			
			}			
				
			
	<!-- 안경 슬라이더 값 이미지 크기 변경 -->	
$(function(){
	$(document).on('click','#gRange',function(event){

		$("#imgg1").width(100*(sliderg.value/50));
		$("#imgg1").height(100*(sliderg.value/50));
		$("#imgg2").width(100*(sliderg.value/50));
		$("#imgg2").height(100*(sliderg.value/50));
		$("#imgg3").width(100*(sliderg.value/50));
		$("#imgg3").height(100*(sliderg.value/50));
		$("#imgg4").width(100*(sliderg.value/50));
		$("#imgg4").height(100*(sliderg.value/50));
		
	});	
});
				
			
	<!-- 안경 회전 오른쪽 + -->	
	var degreeg=0;	
	var rotateg = document.getElementById("rotateg");
			
	$(function(){
	$(document).on('click','#upg',function(event){
		degreeg=degreeg+1;
		
		rotateg.innerHTML = degreeg;
		document.getElementById('imgg1').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg2').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg3').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg4').style.transform='rotate('+degreeg+'deg)';				
		});	
	});		

	<!-- 안경 회전 왼쪽 - -->				
	$(function(){
	$(document).on('click','#downg',function(event){
		degreeg=degreeg-1;
		
		rotateg.innerHTML = degreeg;
		document.getElementById('imgg1').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg2').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg3').style.transform='rotate('+degreeg+'deg)';
		document.getElementById('imgg4').style.transform='rotate('+degreeg+'deg)';				
		});	
	});	
			
			
			
        </script>

        <!-- Teachable Machine -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script type="text/javascript">
                                let URL;
                                const urlMale = 'https://teachablemachine.withgoogle.com/models/GOTs3qfac/'; //남성
                                const urlFemale = 'https://teachablemachine.withgoogle.com/models/sA91mArBu'; //여성
                                let model, labelContainer, maxPredictions;
                                async function init() {
                                    if (document.getElementById('gender').checked) {
                                        URL = urlMale;
                                    } else {
                                        URL = urlFemale;
                                    }
                                    const modelURL = URL + 'model.json';
                                    const metadataURL = URL + 'metadata.json';
                                    model = await tmImage.load(modelURL, metadataURL);
                                    maxPredictions = model.getTotalClasses();
                                    labelContainer = document.getElementById('label-container');
                                    for (let i = 0; i < maxPredictions; i++) {
                                        var element = document.createElement('div');
                                        element.classList.add('d-flex');
                                        labelContainer.appendChild(element);
                                    }
                                }

								
								var title, explain,tags,tagg,sun,gls;
								
                                async function predict() {
                                    var image = document.getElementById('face-image');
                                    const prediction = await model.predict(image, false);
                        			//높은 순서대로 결과값 출력
                                    prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                                    console.log(prediction[0].className);
                                    var resultTitle, resultExplain, resultSun, resultGls,resultTags1, resultTags2,resultTags3, resultTagg1, resultTagg2, resultTagg3;
                                    if (document.getElementById('gender').checked) {
                                        switch (prediction[0].className) {
                                           case 'egg':
                                             resultTitle = '달걀형';
                                                resultExplain =
                                                    '전체적인 모양이 달걀 모양에 가까운 축복받은 얼굴형입니다. 얼굴 너비보다 높이가 크고 이마와 턱선이 자연스럽고 둥글어 부드럽게 흐르는 얼굴 라인이 특징으로 다양한 스타일 변화가 가능합니다.';                                              
												resultSun =
													'대체적으로 모든 모양의 선글라스가 어울립니다. 포인트를 줄 수 있는 틴트 선글라스나 유니크한 프레임의 선글라스를 추천합니다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=유행선글라스' target='_blank' style='color:#e2b270'>#유행 선글라스 </a>";
												resultTags2 =
													 "<a href='https://search.shopping.naver.com/search/all?query=틴트선글라스' target='_blank'style='color:#e2b270'>#틴트 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'다양한 스타일이 잘 어울립니다. 라운드형 안경은 귀여운 이미지를 주고 각진형은 강한느낌과 시크한 느낌을 줍니다.';
												resultTagg1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#라운드프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#각진프레임 </a>";
												resultTagg3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#보잉프레임 </a>";
                                                break;
                                            case 'round':
                                                resultTitle = '동그란형';
                                                resultExplain =
                                                    '동글동글한 이미지로 귀여움과 동안의 인상으로 유한 느낌을 줍니다. 얼굴 너비와 길이가 비슷하고 주로 볼이 통통하여 이마자체의 넓이가 좁고 턱선이 둥근 얼굴 라인이 특징입니다.';
												resultSun =
													'캣츠아이와 스퀘어 모양의 각이 진 형태의 선글라스가 얼굴형과 대비되어 얼굴을 더욱 갸름해 보이는 효과를 줄 수 있습니다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=캣츠아이선글라스' target='_blank' style='color:#5d93c9'>#캣츠아이 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=스퀘어선글라스' target='_blank'style='color:#5d93c9'>#스퀘어 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'둥근 이미지를 좀 더 각지게 만들어 보이는 각진형은 안경이 강조되어 인상이 세련되어 보일 수 있으며 보잉형은 턱선이 갸름해 보이게 해 줄 수 있다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=각진라운드프레임안경' target='_blank'style='color:#5d93c9'>#각진프레임 </a>";
												resultTagg2 =
												     "<a href='https://search.shopping.naver.com/search/all?query=보잉라운드프레임안경' target='_blank'style='color:#5d93c9'>#보잉프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'long':
                                                resultTitle = '긴얼굴형';
                                                resultExplain =
                                                    '성숙해 보이고 지적이며 세련된 느낌을 동시에 줍니다. 얼굴의 너비보다 길이가 전체적으로 긴 편으로 이마와 턱의 너비가 같고 턱선이 크게 모나지 않은 얼굴 라인이 특징입니다.';
												resultSun =
													'가로가 긴 형태의 라운드나 보잉 모양의 오버사이즈 선글라스가 얼굴에 시선이 가로 방향으로 분산되어 긴 얼굴라인을 덜 길어보이게 해 줄 수 있다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#8da555'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=보잉선글라스' target='_blank'style='color:#8da555'>#보잉 선글라스 </a>";
												resultTags3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈선글라스' target='_blank'style='color:#8da555'>#오버사이즈 선글라스 </a>";
												resultGls =
													'시선이 위아래가 아닌 옆으로 퍼질 수 있도록 귀쪽으로 시선을 줄 수 있는 스퀘어형과 이미지를 부드럽게 해주는 라운드형과 잘 어울립니다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=스퀘어프레임안경' target='_blank'style='color:#8da555'>#스퀘어프레임 </a>";
												resultTagg2 =
												     "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#8da555'>#라운드프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'angled':
                                               resultTitle = '각진형';
                                                resultExplain =
                                                    '고급스럽고 진중한 느낌을 줍니다. 얼굴의 너비와 길이가 비슷하며 선 자체가 일직선으로 떨어져 보이며 넓은 이마와 턱선이 강한 얼굴 라인이 특징입니다.';
												resultSun =
													'라운드와 둥근프레임 선글라스는 선이 강한 얼굴이미지를 부드럽고 유연하게 만들어 주며 오버사이즈 선글라스로 시선을 선글라스로 집중시켜 시선을 분산시키는 효과가 있다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#ef8857'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=둥근프레임선글라스' target='_blank'style='color:#ef8857'>#둥근프레임 선글라스 </a>";
												resultTags3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈선글라스' target='_blank'style='color:#ef8857'>#오버사이즈 선글라스 </a>";
												resultGls =
													"부드러운 이미지를 풀어주어 시선이 안경으로 가게 하는 라운드형과 각진 턱을 부드럽게 만들어 주는 오버사이즈형이 잘 어울립니다.";
												resultTagg1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#ef8857'>#라운드프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈프레임안경' target='_blank'style='color:#ef8857'>#오버사이즈프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'heart':
                                                resultTitle = '하트형';
                                                resultExplain =
                                                    '사랑스럽고 생기가 넘치는 느낌을 줍니다. 얼굴의 너비와 길이가 비슷하며 이마가 눈에 띄는 편으로 광대가 높고 턱이 좁은 얼굴라인이 특징입니다.';
												resultSun =
													'둥근 하프 프레임 선글라스 이마를 커버하면서 한층 부드럽고 매끄러운 얼굴형으로 연출해 준다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#f18a9b'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=타원형선글라스' target='_blank'style='color:#f18a9b'>#타원형 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'전체적인 프레임에 가려져서 광대뼈가 덜 부각되어 보이는 정사각형프레임과 뾰족한 느낌을 줄 수 있는 스퀘어 타입과 잘 어울립니다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=정사각형프레임안경' target='_blank'style='color:#f18a9b'>#정사각형프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=스퀘어프레임안경' target='_blank'style='color:#f18a9b'>#각진프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            default:
                                                resultTitle = '알수없음';
                                                resultExplain = '';
                                                resultSun = '';
												resultTags1 = '';
												resultTags2 = '';
												resultTags3 = '';
												resultGls = '';
												resultTagg1 = '';
												resultTagg2 = '';
												resultTagg3 = '';
                                        }
                                    } else {
                                        switch (prediction[0].className) {
                                            case 'egg':
                                              resultTitle = '달걀형';
                                                resultExplain =
                                                    '전체적인 모양이 달걀 모양에 가까운 축복받은 얼굴형입니다. 얼굴 너비보다 높이가 크고 이마와 턱선이 자연스럽고 둥글어 부드럽게 흐르는 얼굴 라인이 특징으로 다양한 스타일 변화가 가능합니다.';                                              
												resultSun =
													'대체적으로 모든 모양의 선글라스가 어울립니다. 포인트를 줄 수 있는 틴트 선글라스나 유니크한 프레임의 선글라스를 추천합니다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=유행선글라스' target='_blank' style='color:#e2b270'>#유행 선글라스 </a>";
												resultTags2 =
													 "<a href='https://search.shopping.naver.com/search/all?query=틴트선글라스' target='_blank'style='color:#e2b270'>#틴트 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'다양한 스타일이 잘 어울립니다. 라운드형 안경은 귀여운 이미지를 주고 각진형은 강한느낌과 시크한 느낌을 줍니다.';
												resultTagg1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#라운드프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#각진프레임 </a>";
												resultTagg3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#e2b270'>#보잉프레임 </a>";
                                                break;
                                            case 'round':
                                                resultTitle = '동그란형';
                                                resultExplain =
                                                    '동글동글한 이미지로 귀여움과 동안의 인상으로 유한 느낌을 줍니다. 얼굴 너비와 길이가 비슷하고 주로 볼이 통통하여 이마자체의 넓이가 좁고 턱선이 둥근 얼굴 라인이 특징입니다.';
												resultSun =
													'캣츠아이와 스퀘어 모양의 각이 진 형태의 선글라스가 얼굴형과 대비되어 얼굴을 더욱 갸름해 보이는 효과를 줄 수 있습니다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=캣츠아이선글라스' target='_blank' style='color:#5d93c9'>#캣츠아이 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=스퀘어선글라스' target='_blank'style='color:#5d93c9'>#스퀘어 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'둥근 이미지를 좀 더 각지게 만들어 보이는 각진형은 안경이 강조되어 인상이 세련되어 보일 수 있으며 보잉형은 턱선이 갸름해 보이게 해 줄 수 있다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=각진라운드프레임안경' target='_blank'style='color:#5d93c9'>#각진프레임 </a>";
												resultTagg2 =
												     "<a href='https://search.shopping.naver.com/search/all?query=보잉라운드프레임안경' target='_blank'style='color:#5d93c9'>#보잉프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'long':
                                                resultTitle = '긴얼굴형';
                                                resultExplain =
                                                    '성숙해 보이고 지적이며 세련된 느낌을 동시에 줍니다. 얼굴의 너비보다 길이가 전체적으로 긴 편으로 이마와 턱의 너비가 같고 턱선이 크게 모나지 않은 얼굴 라인이 특징입니다.';
												resultSun =
													'가로가 긴 형태의 라운드나 보잉 모양의 오버사이즈 선글라스가 얼굴에 시선이 가로 방향으로 분산되어 긴 얼굴라인을 덜 길어보이게 해 줄 수 있다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#8da555'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=보잉선글라스' target='_blank'style='color:#8da555'>#보잉 선글라스 </a>";
												resultTags3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈선글라스' target='_blank'style='color:#8da555'>#오버사이즈 선글라스 </a>";
												resultGls =
													'시선이 위아래가 아닌 옆으로 퍼질 수 있도록 귀쪽으로 시선을 줄 수 있는 스퀘어형과 이미지를 부드럽게 해주는 라운드형과 잘 어울립니다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=스퀘어프레임안경' target='_blank'style='color:#8da555'>#스퀘어프레임 </a>";
												resultTagg2 =
												     "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#8da555'>#라운드프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'angled':
                                               resultTitle = '각진형';
                                                resultExplain =
                                                    '고급스럽고 진중한 느낌을 줍니다. 얼굴의 너비와 길이가 비슷하며 선 자체가 일직선으로 떨어져 보이며 넓은 이마와 턱선이 강한 얼굴 라인이 특징입니다.';
												resultSun =
													'라운드와 둥근프레임 선글라스는 선이 강한 얼굴이미지를 부드럽고 유연하게 만들어 주며 오버사이즈 선글라스로 시선을 선글라스로 집중시켜 시선을 분산시키는 효과가 있다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#ef8857'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=둥근프레임선글라스' target='_blank'style='color:#ef8857'>#둥근프레임 선글라스 </a>";
												resultTags3 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈선글라스' target='_blank'style='color:#ef8857'>#오버사이즈 선글라스 </a>";
												resultGls =
													"부드러운 이미지를 풀어주어 시선이 안경으로 가게 하는 라운드형과 각진 턱을 부드럽게 만들어 주는 오버사이즈형이 잘 어울립니다.";
												resultTagg1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드프레임안경' target='_blank'style='color:#ef8857'>#라운드프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=오버사이즈프레임안경' target='_blank'style='color:#ef8857'>#오버사이즈프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            case 'heart':
                                                resultTitle = '하트형';
                                                resultExplain =
                                                    '사랑스럽고 생기가 넘치는 느낌을 줍니다. 얼굴의 너비와 길이가 비슷하며 이마가 눈에 띄는 편으로 광대가 높고 턱이 좁은 얼굴라인이 특징입니다.';
												resultSun =
													'둥근 하프 프레임 선글라스 이마를 커버하면서 한층 부드럽고 매끄러운 얼굴형으로 연출해 준다.';
												resultTags1 =
                                                    "<a href='https://search.shopping.naver.com/search/all?query=라운드선글라스' target='_blank'style='color:#f18a9b'>#라운드 선글라스 </a>";
												resultTags2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=타원형선글라스' target='_blank'style='color:#f18a9b'>#타원형 선글라스 </a>";
												resultTags3 = '';
												resultGls =
													'전체적인 프레임에 가려져서 광대뼈가 덜 부각되어 보이는 정사각형프레임과 뾰족한 느낌을 줄 수 있는 스퀘어 타입과 잘 어울립니다.';
												resultTagg1 =
                                                     "<a href='https://search.shopping.naver.com/search/all?query=정사각형프레임안경' target='_blank'style='color:#f18a9b'>#정사각형프레임 </a>";
												resultTagg2 =
												    "<a href='https://search.shopping.naver.com/search/all?query=스퀘어프레임안경' target='_blank'style='color:#f18a9b'>#각진프레임 </a>";
												resultTagg3 = '';
                                                break;
                                            default:
                                                resultTitle = '알수없음';
                                                resultExplain = '';
                                                resultSun = '';
												resultTags1 = '';
												resultTags2 = '';
												resultTags3 = '';
												resultGls = '';
												resultTagg1 = '';
												resultTagg2 = '';
												resultTagg3 = '';
                                        }
                                    }
									
                                    title =
                                        "<div class='" +
                                        prediction[0].className +
                                        "-face-title'>" +
                                        resultTitle +
                                        '</div>';
                                    explain = "<div class='face-explain pt-2'>" + resultExplain + '</div>';
									
									sun = "<div class='face-explain-item pt-2'>" + resultSun + '</div>';
                                    tags =
                                        "<div class='tag pt-2 pb-2'>" +
                                        resultTags1 + resultTags2 + resultTags3 +
                                        '</div>';									
									gls = "<div class='face-explain-item pt-2'>" + resultGls + '</div>';
									tagg =
                                        "<div class='tag pt-2 pb-2'>" +
                                        resultTagg1 + resultTagg2 + resultTagg3 +
                                        '</div>';

                        <!-- 설명/퍼센트 사이 -->
                       
									
            <!--글자 링크 "<a href='https://blog.naver.com/3pmarketer/222735730736' target='_blank'>#aaaa</a>"; -->


                        <!-- 퍼센트 -->
                                    var barWidth;
                                    for (let i = 0; i < maxPredictions; i++) {
                                        if (prediction[i].probability.toFixed(2) > 0.1) {
                                            barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + '%';
                                        } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                                            barWidth = '4%';
                                        } else {
                                            barWidth = '2%';
                                        }
                                        var labelTitle;
                                        switch (prediction[i].className) {
                                            case 'egg':
                                                labelTitle = '달걀형';
                                                break;
                                            case 'heart':
                                                labelTitle = '하트형';
                                                break;
                                            case 'long':
                                                labelTitle = '긴얼굴형';
                                                break;
                                            case 'round':
                                                labelTitle = '동그란형';
                        						break;
                                            case 'angled':
                                                labelTitle = '각진형';
                                                break;
                                            default:
                                                labelTitle = '알수없음';
                                        }
                                        var label =
                                            "<div class='face-label d-flex align-items-center'>" +
                                            labelTitle +
                                            '</div>';
                                        var bar =
                                            "<div class='bar-container position-relative container'><div class='" +
                                            prediction[i].className +
                                            "-box'></div><div class='d-flex justify-content-center align-items-center " +
                                            prediction[i].className +
                                            "-bar' style='width: " +
                                            barWidth +
                                            "'><span class='d-block percent-text'>" +
                                            Math.round(prediction[i].probability.toFixed(2) * 100) +
                                            '%</span></div></div>';

										labelContainer.childNodes[i].innerHTML = label + bar	           								
                                    }
            							<!-- 화면 출력 소스 -->
									$('.result-message').html(title);
									$('.result-message-explain').html(explain);	
									$('.result-message-sunglass').html(sun + tags);
									$('.result-message-glass').html(gls + tagg);
									
									
									
            															
                                }
			
        </script>
    </body>
</html>
